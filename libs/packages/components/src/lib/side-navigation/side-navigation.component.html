<nav>
    <ul class="usa-sidenav">
        <ng-container *ngFor="let link of model.navigationLinks">
            <li class="sidenav__item" *ngIf="!link.showFunction || link.showFunction() ">
                <ng-container [ngTemplateOutlet]="sideNavLinkTemplate" [ngTemplateOutletContext]="{$implicit:link}">
                </ng-container>
            </li>
        </ng-container>
    </ul>
</nav>

<ng-template #sideNavLinkTemplate let-link>
    <ng-container [ngTemplateOutlet]="getItemTemplate(link)" [ngTemplateOutletContext]="{$implicit:link}">
    </ng-container>
    <ul *ngIf="link.children" class="usa-sidenav__sublist">
        <ng-container *ngFor="let link of link.children">
            <li *ngIf="!link.showFunction || link.showFunction() " class="sidenav__item">
                <ng-container [ngTemplateOutlet]="sideNavLinkTemplate" [ngTemplateOutletContext]="{$implicit:link}">
                </ng-container>
            </li>
        </ng-container>
    </ul>
</ng-template>

<ng-template #sideNavRouteLinkTemplate let-link>
    <a [attr.class]="link.selected ? ' usa-current' : ''" [routerLink]="[link.route]"
        [queryParams]="link.queryParams"><span>{{link.text}}</span></a>
</ng-template>

<ng-template #sideNavHREFLinkTemplate let-link>
    <a [attr.class]="link.selected ? ' usa-current' : ''" [attr.href]="urlBuilder(link)"><span>{{link.text}}</span></a>
</ng-template>

<ng-template #sideNavLabelLinkTemplate let-link>
    <span [attr.class]="link.selected ? ' usa-current' : ''"><span>{{link.text}}</span></span>
</ng-template>

<ng-template #sideNavEVENTLinkTemplate let-link>
    <a [attr.class]="link.selected ? ' usa-current' : ''" href="javascript:void(0)"
        (click)="linkClickEvent(link)"><span>{{link.text}}</span></a>
</ng-template>